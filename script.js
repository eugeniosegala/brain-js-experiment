const net = new brain.NeuralNetwork()

let data = [
  {
    "input":{
      "r":0,
      "g":0,
      "b":0
    },
    "output":[
      1
    ]
  },
  {
    "input":{
      "r":1,
      "g":1,
      "b":1
    },
    "output":[
      0
    ]
  }
]

// data = [{"input":{"r":0,"g":0,"b":0},"output":[1]},{"input":{"r":1,"g":1,"b":1},"output":[0]},{"input":{"r":0.9082034073002445,"g":0.7896982181729197,"b":0.7265991683450144},"output":[0]},{"input":{"r":0.3910222147569491,"g":0.21979759929791776,"b":0.7821691727199103},"output":[1]},{"input":{"r":0.5053523113713683,"g":0.6801000719312111,"b":0.08313944658853822},"output":[0]},{"input":{"r":0.3646781323632229,"g":0.47301211255465425,"b":0.004793542187924826},"output":[1]},{"input":{"r":0.8065445080082676,"g":0.3779677969897499,"b":0.46231840219460274},"output":[0]},{"input":{"r":0.3047715838138816,"g":0.9719574156003057,"b":0.8512410443454763},"output":[0]},{"input":{"r":0.6048733870851954,"g":0.12933902544029374,"b":0.2811466437956627},"output":[1]},{"input":{"r":0.505230773101371,"g":0.697887832312188,"b":0.6330106938020195},"output":[0]},{"input":{"r":0.04590596044054607,"g":0.6753581786334875,"b":0.5382365206855144},"output":[0]},{"input":{"r":0.7776440243435951,"g":0.15056245416251146,"b":0.6062805031791436},"output":[1]},{"input":{"r":0.8762400587719013,"g":0.8976872706164085,"b":0.6538220210922119},"output":[0]},{"input":{"r":0.4881308369080093,"g":0.9126293893000119,"b":0.49628209059333517},"output":[0]},{"input":{"r":0.49454008424826523,"g":0.5270082389406088,"b":0.18780133518871844},"output":[1]},{"input":{"r":0.1451491805812053,"g":0.2521891993032066,"b":0.524069057570774},"output":[1]},{"input":{"r":0.17827176070806972,"g":0.4639402466396545,"b":0.6827276896818699},"output":[1]},{"input":{"r":0.41171690141686024,"g":0.8895635772995052,"b":0.6831936530167151},"output":[0]},{"input":{"r":0.5544203862738246,"g":0.3301385005622466,"b":0.2134535237146693},"output":[1]},{"input":{"r":0.29937221785904766,"g":0.3049533609702946,"b":0.7788526740917443},"output":[1]},{"input":{"r":0.4574652893638427,"g":0.11490710781849622,"b":0.905754275462268},"output":[1]},{"input":{"r":0.8501018449118574,"g":0.1136775181623908,"b":0.7408811417767442},"output":[0]},{"input":{"r":0.9905955033107181,"g":0.5313812234479796,"b":0.2306439050379605},"output":[0]},{"input":{"r":0.256850713287899,"g":0.7361385555562059,"b":0.208738420560586},"output":[1]},{"input":{"r":0.4110063166217752,"g":0.9075878504951833,"b":0.12836749932632596},"output":[0]},{"input":{"r":0.020058250829506852,"g":0.186949377016846,"b":0.10514476153857255},"output":[1]},{"input":{"r":0.10434176750834956,"g":0.6497613964786761,"b":0.5018196388118183},"output":[0]},{"input":{"r":0.6661168991835431,"g":0.323034580919872,"b":0.2994985229439957},"output":[1]},{"input":{"r":0.28065673716010187,"g":0.7608035550055225,"b":0.15318425100540511},"output":[1]},{"input":{"r":0.8412583110327194,"g":0.3004244251701802,"b":0.5067072035816755},"output":[0]},{"input":{"r":0.15990220275161016,"g":0.8097976921535204,"b":0.7195911852594203},"output":[0]},{"input":{"r":0.3321184080492374,"g":0.6919467877915848,"b":0.5147620923268763},"output":[0]},{"input":{"r":0.30927985803454194,"g":0.18037818501512648,"b":0.0386591446078155},"output":[1]},{"input":{"r":0.3819729415703994,"g":0.026099852524826384,"b":0.24171606941610913},"output":[1]},{"input":{"r":0.5233747655085972,"g":0.004079308859122666,"b":0.20279201450986117},"output":[1]},{"input":{"r":0.5940870842740948,"g":0.7657772823978719,"b":0.20127015542257287},"output":[0]},{"input":{"r":0.2981173674899844,"g":0.04090052362756125,"b":0.07034079179156638},"output":[1]},{"input":{"r":0.6577940807266252,"g":0.3662272578324568,"b":0.608018330304366},"output":[0]},{"input":{"r":0.6818111431444493,"g":0.6148556062454267,"b":0.3364093778417654},"output":[0]},{"input":{"r":0.6622735795334882,"g":0.6376596178442684,"b":0.08433486480787544},"output":[0]},{"input":{"r":0.2507237151810928,"g":0.3850844163341338,"b":0.6694265054030795},"output":[1]},{"input":{"r":0.545801074452521,"g":0.5085870785783619,"b":0.9719521931156319},"output":[0]},{"input":{"r":0.019727885693605618,"g":0.5740186493779131,"b":0.101547903383568},"output":[1]},{"input":{"r":0.6263079845086001,"g":0.3907147486153095,"b":0.6393725164194923},"output":[0]},{"input":{"r":0.6873956212389227,"g":0.9510531421637145,"b":0.006352467988804067},"output":[0]},{"input":{"r":0.9022109602507413,"g":0.32595762058663813,"b":0.9185362302884184},"output":[0]},{"input":{"r":0.2575917214364707,"g":0.7573596738342365,"b":0.8584512899704155},"output":[0]},{"input":{"r":0.5125849959912077,"g":0.10447684036149485,"b":0.22355611656631558},"output":[1]},{"input":{"r":0.19779420697649752,"g":0.3853049768276864,"b":0.5438914127837744},"output":[1]},{"input":{"r":0.9233219650369584,"g":0.650400848073756,"b":0.3418584006618839},"output":[0]},{"input":{"r":0.6029048465773312,"g":0.7443247378678759,"b":0.7721215344249379},"output":[0]},{"input":{"r":0.4010167259491817,"g":0.5858725565397409,"b":0.9951102798463847},"output":[0]},{"input":{"r":0.7861734191077308,"g":0.2437459275153948,"b":0.9999115508376579},"output":[0]},{"input":{"r":0.7394497975781322,"g":0.16448705302414113,"b":0.8829367707351805},"output":[0]},{"input":{"r":0.7542828363570784,"g":0.7965438258739863,"b":0.7267937292304503},"output":[0]},{"input":{"r":0.03688794028886799,"g":0.37975368755277494,"b":0.11547141791613669},"output":[1]},{"input":{"r":0.9435849847340452,"g":0.9933377589519943,"b":0.8444535545635807},"output":[0]},{"input":{"r":0.4618325607730338,"g":0.5440751488138624,"b":0.8768842355514741},"output":[0]},{"input":{"r":0.40209377457419593,"g":0.3387672678469671,"b":0.8838385129743651},"output":[1]},{"input":{"r":0.04134711550373438,"g":0.5493859520402002,"b":0.47679650608575797},"output":[1]},{"input":{"r":0.41674490087538096,"g":0.7011662836847836,"b":0.7185015765550391},"output":[0]},{"input":{"r":0.736191954883985,"g":0.7827106433816708,"b":0.6232309246636234},"output":[0]},{"input":{"r":0.6369812436217788,"g":0.5213186414475868,"b":0.3552996500237202},"output":[0]},{"input":{"r":0.875309258506392,"g":0.489181730830639,"b":0.1330398019088932},"output":[0]},{"input":{"r":0.9085093399659743,"g":0.6543158800844802,"b":0.7028559432280155},"output":[0]},{"input":{"r":0.43638366267577866,"g":0.019483309537907667,"b":0.35128178571109814},"output":[1]},{"input":{"r":0.003384753037138477,"g":0.19115548295659268,"b":0.09191502989759348},"output":[1]},{"input":{"r":0.6405573508594395,"g":0.08828897909266731,"b":0.31989191683123286},"output":[1]},{"input":{"r":0.28302014574425427,"g":0.1101918246820972,"b":0.5079403921440757},"output":[1]},{"input":{"r":0.707590361636923,"g":0.7916351545214277,"b":0.26706328793488976},"output":[0]},{"input":{"r":0.8050333563591492,"g":0.7538141360007233,"b":0.13257386494483847},"output":[0]},{"input":{"r":0.7590387032133066,"g":0.3510478411302851,"b":0.6007360230569452},"output":[0]},{"input":{"r":0.5159554798198926,"g":0.3570640416382729,"b":0.9331716530016207},"output":[0]},{"input":{"r":0.18083090883453057,"g":0.792639975560953,"b":0.12514433481849196},"output":[1]},{"input":{"r":0.6490222573141187,"g":0.24267765509918138,"b":0.6857017537334367},"output":[1]},{"input":{"r":0.3371821381076672,"g":0.5495753835042758,"b":0.31558639284640666},"output":[1]},{"input":{"r":0.9605882361425948,"g":0.7151086415148582,"b":0.877202705669748},"output":[0]},{"input":{"r":0.475977680806869,"g":0.5306108140496775,"b":0.7509533456499555},"output":[0]},{"input":{"r":0.8700671909991562,"g":0.34299257830673935,"b":0.35465655649094185},"output":[0]},{"input":{"r":0.6477677416124048,"g":0.817750356288734,"b":0.7369667031560916},"output":[0]},{"input":{"r":0.9174478683492286,"g":0.8852039225904984,"b":0.13978352189902066},"output":[0]},{"input":{"r":0.2655994308485148,"g":0.5975351300125358,"b":0.7771709484145597},"output":[0]},{"input":{"r":0.4024278953346656,"g":0.9985102854827888,"b":0.43987034633896815},"output":[0]},{"input":{"r":0.055267274904863495,"g":0.1967237353727218,"b":0.15638555048189673},"output":[1]},{"input":{"r":0.5929564897076924,"g":0.25375103913859953,"b":0.8340011847892399},"output":[1]},{"input":{"r":0.22702702107734862,"g":0.25623866078927726,"b":0.9313705665569711},"output":[1]},{"input":{"r":0.8601489606161956,"g":0.6542995673894578,"b":0.4413582139212775},"output":[0]},{"input":{"r":0.22456859704436205,"g":0.750861828087793,"b":0.4609578322924879},"output":[0]},{"input":{"r":0.32620691029887006,"g":0.2814976487192584,"b":0.6908951603345315},"output":[1]},{"input":{"r":0.4396770634928857,"g":0.8048983879227649,"b":0.2233725225920682},"output":[0]},{"input":{"r":0.6829172791639324,"g":0.6234376469593348,"b":0.9719187959663436},"output":[0]},{"input":{"r":0.9323690580089945,"g":0.1980431251339052,"b":0.3534202009406635},"output":[0]},{"input":{"r":0.006587315999779797,"g":0.4819115551811737,"b":0.11626105345623627},"output":[1]},{"input":{"r":0.4423071256151154,"g":0.7976535115366357,"b":0.1824346276632196},"output":[0]},{"input":{"r":0.6525973405657881,"g":0.594221957832342,"b":0.11064042307499222},"output":[0]},{"input":{"r":0.7535659394451442,"g":0.1798762021197664,"b":0.320374099948036},"output":[1]},{"input":{"r":0.23200551021156457,"g":0.13563171580660938,"b":0.36836305613077824},"output":[1]},{"input":{"r":0.5265608999057427,"g":0.9509803261364971,"b":0.5014632893146189},"output":[0]},{"input":{"r":0.5912881961303906,"g":0.21227885845052974,"b":0.8015559223637598},"output":[1]},{"input":{"r":0.32536633693669814,"g":0.34204110964810175,"b":0.5089227587813361},"output":[1]},{"input":{"r":0.7844761745287088,"g":0.4773028123509857,"b":0.799330054904827},"output":[0]},{"input":{"r":0.1485484319700756,"g":0.5175850904336154,"b":0.06501909444790477},"output":[1]},{"input":{"r":0.20265527431205665,"g":0.7417697453068877,"b":0.08652658394467783},"output":[0]},{"input":{"r":0.05039277614388182,"g":0.5363742034237353,"b":0.7469867740649017},"output":[0]},{"input":{"r":0.44299808475828817,"g":0.28945225677165887,"b":0.4996733984941999},"output":[1]},{"input":{"r":0.7692818572335121,"g":0.6631594983658784,"b":0.7592826705860753},"output":[0]},{"input":{"r":0.8949046799621634,"g":0.3235598158442141,"b":0.4458244768566113},"output":[0]},{"input":{"r":0.9991856660925345,"g":0.5559321659292846,"b":0.2236323694905007},"output":[0]},{"input":{"r":0.8584336548456117,"g":0.5902215791375476,"b":0.06891004624546859},"output":[0]},{"input":{"r":0.6239880439847612,"g":0.241419279868472,"b":0.27116524014000487},"output":[1]},{"input":{"r":0.5847971351246115,"g":0.25222022100887975,"b":0.7732269842356085},"output":[1]},{"input":{"r":0.6359588092559945,"g":0.4369142096941927,"b":0.7213767123101613},"output":[0]},{"input":{"r":0.09002360724499359,"g":0.7434364640910232,"b":0.5904549651064126},"output":[0]},{"input":{"r":0.5331626688213866,"g":0.4657487163460017,"b":0.4412196351725952},"output":[0]},{"input":{"r":0.12025870057151167,"g":0.4904662462459304,"b":0.7266655979920251},"output":[0]},{"input":{"r":0.07276282699790082,"g":0.8669739315882952,"b":0.7867774992349923},"output":[0]},{"input":{"r":0.46664183024697325,"g":0.289713615648695,"b":0.1740291201609785},"output":[1]},{"input":{"r":0.295026323353204,"g":0.4587519254910417,"b":0.42313305411597724},"output":[1]},{"input":{"r":0.4520838757043666,"g":0.1490617067344282,"b":0.6732624740287432},"output":[1]},{"input":{"r":0.4056436930150318,"g":0.41684098597918284,"b":0.03746426337068143},"output":[1]},{"input":{"r":0.2545122066636807,"g":0.7728141012629883,"b":0.3924879881283716},"output":[0]},{"input":{"r":0.741551770121448,"g":0.3412106702848525,"b":0.4771397787451641},"output":[0]},{"input":{"r":0.09084799617544737,"g":0.09583025701504533,"b":0.6541323255454767},"output":[1]},{"input":{"r":0.8232967170164236,"g":0.2219838264380909,"b":0.8313709789739734},"output":[0]},{"input":{"r":0.4894334754437888,"g":0.7833697264709725,"b":0.4776918673278534},"output":[0]},{"input":{"r":0.5782053651163717,"g":0.8497633001627953,"b":0.7409945653028358},"output":[0]},{"input":{"r":0.8163091786015486,"g":0.5945132921811047,"b":0.9471724902730876},"output":[0]},{"input":{"r":0.00618260161533124,"g":0.8517893747819869,"b":0.7989090788738857},"output":[0]},{"input":{"r":0.7197808841157518,"g":0.27209105406877643,"b":0.20633039307382917},"output":[1]},{"input":{"r":0.6840956054312028,"g":0.5582155087423204,"b":0.6468996425918643},"output":[0]},{"input":{"r":0.4796164416260358,"g":0.14358126911021363,"b":0.40545120544641233},"output":[1]},{"input":{"r":0.7546516071213538,"g":0.9603964477567402,"b":0.528200590903783},"output":[0]},{"input":{"r":0.033317384491797775,"g":0.7958892900505443,"b":0.3130255430479205},"output":[1]},{"input":{"r":0.22239644986191243,"g":0.05101065606087296,"b":0.14201367727020897},"output":[1]},{"input":{"r":0.6121245277466807,"g":0.09913881195511709,"b":0.29399726474046406},"output":[1]},{"input":{"r":0.9940533248448027,"g":0.7897600527299786,"b":0.4621790954965179},"output":[0]},{"input":{"r":0.5782271812095419,"g":0.9608962646067449,"b":0.8968599459100495},"output":[0]},{"input":{"r":0.9555284851091619,"g":0.4085341065959265,"b":0.6727103219577888},"output":[0]},{"input":{"r":0.555471693427595,"g":0.6089073093109123,"b":0.3541305435255402},"output":[0]},{"input":{"r":0.7914506252090467,"g":0.6611777811603248,"b":0.374739913358481},"output":[0]},{"input":{"r":0.969203002142971,"g":0.38118276298000464,"b":0.18019219844767154},"output":[0]},{"input":{"r":0.6433231732896081,"g":0.18072326705877062,"b":0.8862458952107006},"output":[0]},{"input":{"r":0.7523121890645676,"g":0.29840295672097095,"b":0.3513026037782865},"output":[1]},{"input":{"r":0.06648695681284988,"g":0.0019194225721097524,"b":0.31463232727258106},"output":[1]},{"input":{"r":0.8004923593749513,"g":0.8143743631011882,"b":0.3410967941269354},"output":[0]},{"input":{"r":0.34764550618956624,"g":0.41660826143109464,"b":0.5712261640118765},"output":[1]}]

net.train(data)

document.getElementById('neural-network').innerHTML = brain.utilities.toSVG(net);

function chooseColor(value) {
  data.push({
    input: color,
    output: [value]
  })
  setRandomColor()
}

function print() {
  console.log(JSON.stringify(data))
}

function setRandomColor() {

  color = {
    r: Math.random(),
    g: Math.random(),
    b: Math.random(),
  }

  console.log('Random colour:', color);

  const guess = net.run(color)[0]

  guessEl.style.color = guess > .5 ? '#FFF' : '#000';

  colorEl.style.backgroundColor =
    `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255})`
}

const colorEl = document.getElementById('color')
const guessEl = document.getElementById('guess')
const whiteButton = document.getElementById('white-button')
const blackButton = document.getElementById('black-button')
const printButton = document.getElementById('print-button')

let color;

whiteButton.addEventListener('click', () => {
  chooseColor(1)
})

blackButton.addEventListener('click', () => {
  chooseColor(0)
})

printButton.addEventListener('click', print)


setRandomColor();
